"use strict";(self.webpackChunk_minimal_kit_simple_cra_js=self.webpackChunk_minimal_kit_simple_cra_js||[]).push([[900],{70786:function(e,n,r){r.d(n,{Z:function(){return a}});var t=r(36314),i=r(4567),s=r(13838),l=r(52115),o=r(80184);function a(e){var n=e.open,r=e.onClose,a=e.onConfirm,c=e.title,d=void 0===c?"Delete Item?":c,u=e.description,m=void 0===u?"This action cannot be undone.":u;return(0,o.jsx)(l.Z,{open:n,onClose:r,arrow:"top-right",children:(0,o.jsxs)(t.Z,{spacing:2,sx:{p:2,minWidth:240},children:[(0,o.jsx)(i.Z,{variant:"subtitle1",children:d}),(0,o.jsx)(i.Z,{variant:"body2",color:"text.secondary",children:m}),(0,o.jsxs)(t.Z,{direction:"row",spacing:1,justifyContent:"flex-end",children:[(0,o.jsx)(s.Z,{size:"small",onClick:r,children:"Cancel"}),(0,o.jsx)(s.Z,{size:"small",color:"error",variant:"contained",onClick:a,children:"Delete"})]})]})})}},1427:function(e,n,r){r.d(n,{Z:function(){return c}});var t=r(46128),i=r(697),s=r(4567),l=r(13400),o=r(29823),a=r(80184);function c(e){var n=e.open,r=e.onClose,c=e.title,d=e.children;return(0,a.jsx)(t.ZP,{anchor:"right",open:n,onClose:r,children:(0,a.jsxs)(i.Z,{sx:{width:{xs:300,sm:c.includes("Invoice")?1e3:600},p:3},children:[(0,a.jsxs)(i.Z,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[(0,a.jsx)(s.Z,{variant:"h6",children:c}),(0,a.jsx)(l.Z,{onClick:r,children:(0,a.jsx)(o.Z,{})})]}),(0,a.jsx)(i.Z,{mt:3,children:d})]})})}},32869:function(e,n,r){r.d(n,{Ds:function(){return t.Ds}});var t=r(84802);r(58764)},34900:function(e,n,r){r.r(n),r.d(n,{default:function(){return U}});var t=r(6907),i=r(74165),s=r(15861),l=r(29439),o=r(72791),a=r(81766),c=r(13092),d=r(36314),u=r(4567),m=r(13838),h=r(89164),x=r(48550),Z=r(27938),j=r(13239),v=r(79836),f=r(56890),p=r(9195),b=r(68745),C=r(53382),g=r(13400),y=r(52739),w=r(38820),k=r(5397),S=r(99615),_=r(70786),A=r(32869),N=r(57088),D=r(1427),T=r(1413),I=r(8007),W=r(61134),q=r(44695),P=r(697),z=r(80184),F=I.Ry().shape({name:I.Z_().required("Name is required"),number:I.Z_().required("Number is required").matches(/^\d{10}$/,"Number must be digits and exactly 10 digits"),email:I.Z_().email("Invalid email").nullable(),address:I.Z_().nullable()});function H(e){var n,r,t,i,s=e.initialData,l=void 0===s?{}:s,o=e.onSubmit,a=e.onClose,c=(0,W.cI)({resolver:(0,q.X)(F),defaultValues:{name:l.name||"",number:l.number||"",email:l.email||"",address:l.address||""}}),u=c.register,h=c.handleSubmit,Z=c.reset,j=c.formState.errors;return(0,z.jsx)(P.Z,{component:"form",onSubmit:h((function(e){o(e),Z(),a()})),children:(0,z.jsxs)(d.Z,{spacing:2,children:[(0,z.jsx)(x.Z,(0,T.Z)((0,T.Z)({label:"Name"},u("name")),{},{error:!!j.name,helperText:null===(n=j.name)||void 0===n?void 0:n.message,fullWidth:!0})),(0,z.jsx)(x.Z,(0,T.Z)((0,T.Z)({label:"Mobile Number"},u("number")),{},{error:!!j.number,helperText:null===(r=j.number)||void 0===r?void 0:r.message,fullWidth:!0})),(0,z.jsx)(x.Z,(0,T.Z)((0,T.Z)({label:"Email"},u("email")),{},{error:!!j.email,helperText:null===(t=j.email)||void 0===t?void 0:t.message,fullWidth:!0})),(0,z.jsx)(x.Z,(0,T.Z)((0,T.Z)({label:"Address"},u("address")),{},{error:!!j.address,helperText:null===(i=j.address)||void 0===i?void 0:i.message,fullWidth:!0,multiline:!0,rows:2})),(0,z.jsxs)(P.Z,{textAlign:"right",children:[(0,z.jsx)(m.Z,{variant:"outlined",onClick:a,sx:{mr:1},children:"Cancel"}),(0,z.jsx)(m.Z,{type:"submit",color:"primary",variant:"contained",children:null!==l&&void 0!==l&&l.name?"Update":"Add"})]})]})})}var L=function(e){return S.ZP.get(e).then((function(e){return e.data}))};function E(){var e=(0,N.K$)(),n=(0,o.useState)(!1),r=(0,l.Z)(n,2),t=r[0],T=r[1],I=(0,o.useState)(null),W=(0,l.Z)(I,2),q=W[0],P=W[1],F=(0,o.useState)(null),E=(0,l.Z)(F,2),U=E[0],$=E[1],K=(0,o.useState)(null),M=(0,l.Z)(K,2),R=M[0],V=M[1],X=(0,A.Ds)().enqueueSnackbar,B=(0,o.useState)(""),G=(0,l.Z)(B,2),J=G[0],O=G[1],Q=(0,o.useState)(!1),Y=(0,l.Z)(Q,2),ee=Y[0],ne=Y[1],re=function(){$(null),V(null)},te=(0,a.ZP)(S.Hv.customer.list,L),ie=te.data,se=te.error,le=te.isLoading,oe=(0,o.useCallback)((function(){P(null),T(!0)}),[]),ae=(0,o.useCallback)(function(){var e=(0,s.Z)((0,i.Z)().mark((function e(n){var r,t,s;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ne(!0),e.prev=1,!q){e.next=10;break}return e.next=5,S.ZP.put("/customer/update/".concat(q._id),n);case 5:r=e.sent,(0,c.j)(S.Hv.customer.list),200===(null===(t=r)||void 0===t?void 0:t.status)&&X("Customer updated successfully.",{variant:"success"}),e.next=15;break;case 10:return e.next=12,S.ZP.post("/customer/add",n);case 12:r=e.sent,(0,c.j)(S.Hv.customer.list),201===(null===(s=r)||void 0===s?void 0:s.status)&&X("Customer added successfully.",{variant:"success"});case 15:T(!1),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(1),console.error("Failed to save customer:",e.t0),X(e.t0.message||"Something went wrong!",{variant:"error"});case 22:return e.prev=22,ne(!1),e.finish(22);case 25:case"end":return e.stop()}}),e,null,[[1,18,22,25]])})));return function(n){return e.apply(this,arguments)}}(),[q,X]),ce=(0,o.useCallback)(function(){var e=(0,s.Z)((0,i.Z)().mark((function e(n){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ne(!0),e.prev=1,e.next=4,S.ZP.delete("/customer/delete/".concat(n));case 4:X("Customer deleted successfully.",{variant:"success"}),(0,c.j)(S.Hv.customer.list),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("Failed to delete customer:",e.t0),X(e.t0.message||"Something went wrong!",{variant:"error"});case 12:return e.prev=12,ne(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,8,12,15]])})));return function(n){return e.apply(this,arguments)}}(),[X]);if(se)return(0,z.jsxs)("div",{style:{width:"100%",justifyContent:"center"},children:[(0,z.jsxs)(d.Z,{direction:"row",justifyContent:"space-between",mb:3,children:[(0,z.jsx)(u.Z,{variant:"h4",children:"Customers"}),(0,z.jsx)(m.Z,{color:"primary",variant:"contained",onClick:oe,children:"Add Customer"})]}),(0,z.jsx)("p",{style:{color:"red",fontSize:20,textAlign:"center",paddingTop:"150px"},children:"Failed to load customers!"})]});var de=(null===ie||void 0===ie?void 0:ie.filter((function(e){var n,r,t,i=J.toLowerCase(),s=(null===(n=e.name)||void 0===n?void 0:n.toLowerCase())||"",l=(null===(r=e.email)||void 0===r?void 0:r.toLowerCase())||"",o=(null===(t=e.number)||void 0===t?void 0:t.toString())||"";return s.includes(i)||l.includes(i)||o.includes(i)})))||[];return(0,z.jsxs)(h.Z,{maxWidth:!e.themeStretch&&"xl",children:[(0,z.jsxs)(d.Z,{direction:"row",justifyContent:"space-between",mb:3,children:[(0,z.jsx)(u.Z,{variant:"h4",children:"Customers"}),(0,z.jsx)(m.Z,{variant:"contained",color:"primary",onClick:oe,children:"Add Customer"})]}),(0,z.jsx)("div",{children:(0,z.jsx)(x.Z,{fullWidth:!0,variant:"outlined",placeholder:"Search by customer name, email, mobile Number",value:J,onChange:function(e){return O(e.target.value)},sx:{mb:3}})}),(0,z.jsx)(Z.Z,{sx:{width:"100%",overflow:"auto"},children:le?(0,z.jsx)("div",{style:{display:"flex",justifyContent:"center",padding:"20px"},children:(0,z.jsx)(j.Z,{})}):(0,z.jsxs)(v.Z,{children:[(0,z.jsx)(f.Z,{children:(0,z.jsxs)(p.Z,{children:[(0,z.jsx)(b.Z,{children:"Name"}),(0,z.jsx)(b.Z,{children:"Email"}),(0,z.jsx)(b.Z,{children:"Number"}),(0,z.jsx)(b.Z,{children:"Address"}),(0,z.jsx)(b.Z,{align:"right",children:"Actions"})]})}),(0,z.jsx)(C.Z,{children:de&&de.length>0?de.map((function(e){return(0,z.jsxs)(p.Z,{children:[(0,z.jsx)(b.Z,{children:e.name}),(0,z.jsx)(b.Z,{children:e.email||"N/A"}),(0,z.jsxs)(b.Z,{children:["+91 ",e.number]}),(0,z.jsx)(b.Z,{children:e.address||"N/A"}),(0,z.jsxs)(b.Z,{align:"right",children:[(0,z.jsx)(g.Z,{color:"primary",onClick:function(){P(e),T(!0)},children:(0,z.jsx)(w.Z,{})}),(0,z.jsx)(g.Z,{color:"error",onClick:function(n){return r=n,t=e._id,$(r.currentTarget),void V(t);var r,t},children:(0,z.jsx)(k.Z,{})})]})]},e._id)})):(0,z.jsx)(p.Z,{children:(0,z.jsx)(b.Z,{colSpan:5,align:"center",sx:{py:4},children:(0,z.jsxs)(u.Z,{variant:"body1",color:"text.secondary",children:["No customers found matching ",(0,z.jsxs)("strong",{children:['"',J,'"']}),". Try searching by name, email, or number."]})})})})]})}),(0,z.jsx)(D.Z,{open:t,onClose:function(){return T(!1)},title:q?"Update Customer":"Add Customer",children:(0,z.jsx)(H,{initialData:q||{},onSubmit:ae,onClose:function(){return T(!1)}})}),(0,z.jsx)(_.Z,{open:U,onClose:re,onConfirm:function(){ce(R),re()},title:"Delete Customer?",description:"Are you sure you want to delete this customer?"}),(0,z.jsx)(y.Z,{open:ee,sx:{color:"#fff",zIndex:function(e){return e.zIndex.drawer+1}},children:(0,z.jsx)(j.Z,{color:"inherit"})})]})}function U(){return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(t.ql,{children:(0,z.jsx)("title",{children:" Dashboard: Customer"})}),(0,z.jsx)(E,{})]})}}}]);
//# sourceMappingURL=900.58c55b53.chunk.js.map
"use strict";(self.webpackChunk_minimal_kit_simple_cra_js=self.webpackChunk_minimal_kit_simple_cra_js||[]).push([[662],{786:function(e,r,t){t.d(r,{Z:function(){return d}});var i=t(6314),n=t(4567),s=t(3838),l=t(2115),a=t(184);function d(e){var r=e.open,t=e.onClose,d=e.onConfirm,o=e.title,c=void 0===o?"Delete Item?":o,u=e.description,m=void 0===u?"This action cannot be undone.":u;return(0,a.jsx)(l.Z,{open:r,onClose:t,arrow:"top-right",children:(0,a.jsxs)(i.Z,{spacing:2,sx:{p:2,minWidth:240},children:[(0,a.jsx)(n.Z,{variant:"subtitle1",children:c}),(0,a.jsx)(n.Z,{variant:"body2",color:"text.secondary",children:m}),(0,a.jsxs)(i.Z,{direction:"row",spacing:1,justifyContent:"flex-end",children:[(0,a.jsx)(s.Z,{size:"small",onClick:t,children:"Cancel"}),(0,a.jsx)(s.Z,{size:"small",color:"error",variant:"contained",onClick:d,children:"Delete"})]})]})})}},1427:function(e,r,t){t.d(r,{Z:function(){return o}});var i=t(6128),n=t(697),s=t(4567),l=t(3400),a=t(9823),d=t(184);function o(e){var r=e.open,t=e.onClose,o=e.title,c=e.children;return(0,d.jsx)(i.ZP,{anchor:"right",open:r,onClose:t,children:(0,d.jsxs)(n.Z,{sx:{width:{xs:300,sm:600},p:3},children:[(0,d.jsxs)(n.Z,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[(0,d.jsx)(s.Z,{variant:"h6",children:o}),(0,d.jsx)(l.Z,{onClick:t,children:(0,d.jsx)(a.Z,{})})]}),(0,d.jsx)(n.Z,{mt:3,children:c})]})})}},9662:function(e,r,t){t.r(r),t.d(r,{default:function(){return E}});var i=t(6907),n=t(4165),s=t(3433),l=t(5861),a=t(9439),d=t(2791),o=t(1766),c=t(3092),u=t(9164),m=t(4567),x=t(3838),h=t(6314),Z=t(7938),p=t(3239),j=t(9836),f=t(6890),v=t(9195),_=t(8745),b=t(3382),g=t(3400),y=t(8820),C=t(5397),k=t(9615),P=t(786),q=t(7088),S=t(1427),T=t(1413),w=t(8007),I=t(1134),W=t(4695),A=t(697),D=t(1889),N=t(8953),U=t(5523),H=t(3837),R=t(184),z=w.Ry().shape({item_name:w.Z_().required("Item Name is required"),item_type:w.Z_().required("Item Type is required"),sku:w.Z_().required("SKU is required"),part_number:w.Z_().required("Part Number is required"),status:w.O7().required("Status is required"),description:w.Z_().required("Description is required"),category:w.Z_().required("Category is required"),brand_name:w.Z_().required("Brand Name is required"),tax:w.Rx().typeError("Tax must be a number").required("Tax is required"),cost_price:w.Rx().typeError("Cost Price must be a number").required("Cost Price is required"),selling_price:w.Rx().typeError("Selling Price must be a number").required("Selling Price is required")});function F(e){var r,t,i,n,s,l,a,d,o,c,u,m=e.initialData,h=void 0===m?{}:m,Z=e.onSubmit,p=e.onClose,j=(0,I.cI)({resolver:(0,W.X)(z),defaultValues:{item_name:h.item_name||"",item_type:h.item_type||"PRODUCT",sku:h.sku||"",part_number:h.part_number||"",status:null===(r=h.status)||void 0===r||r,description:h.description||"",category:h.category||"",brand_name:h.brand_name||"",tax:h.tax||"",cost_price:h.cost_price||"",selling_price:h.selling_price||""}}),f=j.register,v=j.handleSubmit,_=j.reset,b=j.formState.errors,g=j.setValue,y=(0,j.watch)("status");return(0,R.jsx)(A.Z,{component:"form",onSubmit:v((function(e){Z(e),_(),p()})),children:(0,R.jsxs)(D.ZP,{container:!0,spacing:2,children:[(0,R.jsx)(D.ZP,{item:!0,xs:12,md:6,children:(0,R.jsx)(N.Z,(0,T.Z)((0,T.Z)({label:"Item Name"},f("item_name")),{},{error:!!b.item_name,helperText:null===(t=b.item_name)||void 0===t?void 0:t.message,fullWidth:!0}))}),(0,R.jsx)(D.ZP,{item:!0,xs:12,md:6,children:(0,R.jsx)(N.Z,(0,T.Z)((0,T.Z)({label:"Item Type"},f("item_type")),{},{error:!!b.item_type,helperText:null===(i=b.item_type)||void 0===i?void 0:i.message,fullWidth:!0}))}),(0,R.jsx)(D.ZP,{item:!0,xs:12,md:6,children:(0,R.jsx)(N.Z,(0,T.Z)((0,T.Z)({label:"SKU"},f("sku")),{},{error:!!b.sku,helperText:null===(n=b.sku)||void 0===n?void 0:n.message,fullWidth:!0}))}),(0,R.jsx)(D.ZP,{item:!0,xs:12,md:6,children:(0,R.jsx)(N.Z,(0,T.Z)((0,T.Z)({label:"Part Number"},f("part_number")),{},{error:!!b.part_number,helperText:null===(s=b.part_number)||void 0===s?void 0:s.message,fullWidth:!0}))}),(0,R.jsx)(D.ZP,{item:!0,xs:12,md:6,children:(0,R.jsx)(N.Z,(0,T.Z)((0,T.Z)({label:"Category"},f("category")),{},{error:!!b.category,helperText:null===(l=b.category)||void 0===l?void 0:l.message,fullWidth:!0}))}),(0,R.jsx)(D.ZP,{item:!0,xs:12,md:6,children:(0,R.jsx)(N.Z,(0,T.Z)((0,T.Z)({label:"Brand Name"},f("brand_name")),{},{error:!!b.brand_name,helperText:null===(a=b.brand_name)||void 0===a?void 0:a.message,fullWidth:!0}))}),(0,R.jsx)(D.ZP,{item:!0,xs:12,md:6,children:(0,R.jsx)(N.Z,(0,T.Z)((0,T.Z)({label:"Tax (%)"},f("tax")),{},{error:!!b.tax,helperText:null===(d=b.tax)||void 0===d?void 0:d.message,fullWidth:!0}))}),(0,R.jsx)(D.ZP,{item:!0,xs:12,md:6,children:(0,R.jsx)(N.Z,(0,T.Z)((0,T.Z)({label:"Cost Price"},f("cost_price")),{},{error:!!b.cost_price,helperText:null===(o=b.cost_price)||void 0===o?void 0:o.message,fullWidth:!0}))}),(0,R.jsx)(D.ZP,{item:!0,xs:12,md:6,children:(0,R.jsx)(N.Z,(0,T.Z)((0,T.Z)({label:"Selling Price"},f("selling_price")),{},{error:!!b.selling_price,helperText:null===(c=b.selling_price)||void 0===c?void 0:c.message,fullWidth:!0}))}),(0,R.jsxs)(D.ZP,{item:!0,xs:12,md:6,children:[(0,R.jsx)(U.Z,{control:(0,R.jsx)(H.Z,{checked:y,onChange:function(e){return g("status",e.target.checked)},color:"primary"}),label:"Status"}),b.status&&(0,R.jsx)("p",{style:{color:"red",fontSize:12},children:b.status.message})]}),(0,R.jsx)(D.ZP,{item:!0,xs:12,md:12,children:(0,R.jsx)(N.Z,(0,T.Z)((0,T.Z)({label:"Description"},f("description")),{},{error:!!b.description,helperText:null===(u=b.description)||void 0===u?void 0:u.message,fullWidth:!0,multiline:!0,rows:3}))}),(0,R.jsx)(D.ZP,{item:!0,xs:12,md:12,children:(0,R.jsx)(A.Z,{textAlign:"right",children:(0,R.jsx)(x.Z,{type:"submit",variant:"contained",children:null!==h&&void 0!==h&&h.item_name?"Update":"Add"})})})]})})}var K=function(e){return k.ZP.get(e).then((function(e){return e.data}))};function B(){var e=(0,q.K$)(),r=(0,d.useState)(!1),t=(0,a.Z)(r,2),i=t[0],T=t[1],w=(0,d.useState)(null),I=(0,a.Z)(w,2),W=I[0],A=I[1],D=(0,d.useState)(null),N=(0,a.Z)(D,2),U=N[0],H=N[1],z=(0,d.useState)(null),B=(0,a.Z)(z,2),E=B[0],O=B[1],V=(0,o.ZP)(k.Hv.items.list,K),L=V.data,X=V.error,$=V.isLoading,G=function(){H(null),O(null)},J=(0,d.useCallback)((function(){A(null),T(!0)}),[]),M=(0,d.useCallback)(function(){var e=(0,l.Z)((0,n.Z)().mark((function e(r){var t,i,l;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!W){e.next=9;break}return e.next=4,k.ZP.put("/item/update/".concat(W._id),r);case 4:t=e.sent,i=L.map((function(e){return e._id===W._id?t.data:e})),(0,c.j)(k.Hv.items.list,i,!1),e.next=14;break;case 9:return e.next=11,k.ZP.post("/item/add",r);case 11:t=e.sent,l=[].concat((0,s.Z)(L),[t.data]),(0,c.j)(k.Hv.items.list,l,!1);case 14:T(!1),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),console.error("Failed to save item:",e.t0);case 20:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(r){return e.apply(this,arguments)}}(),[L,W]),Q=(0,d.useCallback)(function(){var e=(0,l.Z)((0,n.Z)().mark((function e(r){var t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.ZP.delete("/item/delete/".concat(r));case 3:t=L.filter((function(e){return e._id!==r})),(0,c.j)(k.Hv.items.list,t,!1),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Failed to delete item:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(r){return e.apply(this,arguments)}}(),[L]);return X?(0,R.jsxs)(u.Z,{maxWidth:!e.themeStretch&&"xl",children:[(0,R.jsx)(m.Z,{variant:"h4",mb:2,children:"Items"}),(0,R.jsx)(x.Z,{variant:"contained",onClick:J,children:"Add Item"}),(0,R.jsx)("p",{style:{color:"red",fontSize:20,textAlign:"center",paddingTop:"150px"},children:"Failed to load items!"})]}):(0,R.jsxs)(u.Z,{maxWidth:!e.themeStretch&&"xl",children:[(0,R.jsxs)(h.Z,{direction:"row",justifyContent:"space-between",mb:3,children:[(0,R.jsx)(m.Z,{variant:"h4",children:"Items"}),(0,R.jsx)(x.Z,{variant:"contained",onClick:J,children:"Add Item"})]}),(0,R.jsx)(Z.Z,{sx:{width:"100%",overflow:"auto"},children:$?(0,R.jsx)("div",{style:{display:"flex",justifyContent:"center",padding:"20px"},children:(0,R.jsx)(p.Z,{})}):(0,R.jsxs)(j.Z,{children:[(0,R.jsx)(f.Z,{children:(0,R.jsxs)(v.Z,{children:[(0,R.jsx)(_.Z,{children:"Item Name"}),(0,R.jsx)(_.Z,{children:"SKU"}),(0,R.jsx)(_.Z,{children:"Brand"}),(0,R.jsx)(_.Z,{children:"Category"}),(0,R.jsx)(_.Z,{align:"right",children:"Actions"})]})}),(0,R.jsx)(b.Z,{children:L&&L.length>0?L.map((function(e){return(0,R.jsxs)(v.Z,{children:[(0,R.jsx)(_.Z,{children:e.item_name}),(0,R.jsx)(_.Z,{children:e.sku}),(0,R.jsx)(_.Z,{children:e.brand_name}),(0,R.jsx)(_.Z,{children:e.category}),(0,R.jsxs)(_.Z,{align:"right",children:[(0,R.jsx)(g.Z,{color:"primary",onClick:function(){A(e),T(!0)},children:(0,R.jsx)(y.Z,{})}),(0,R.jsx)(g.Z,{color:"error",onClick:function(r){return t=r,i=e._id,H(t.currentTarget),void O(i);var t,i},children:(0,R.jsx)(C.Z,{})})]})]},e._id)})):(0,R.jsx)(v.Z,{children:(0,R.jsx)(_.Z,{colSpan:5,align:"center",sx:{py:4},children:(0,R.jsxs)(m.Z,{variant:"body1",color:"text.secondary",children:["No items found. Head towards ",(0,R.jsx)("strong",{children:"Add Item"})," to add them."]})})})})]})}),(0,R.jsx)(S.Z,{open:i,onClose:function(){return T(!1)},title:W?"Update Item":"Add Item",children:(0,R.jsx)(F,{initialData:W||{},onSubmit:M,onClose:function(){return T(!1)}})}),(0,R.jsx)(P.Z,{open:U,onClose:G,onConfirm:function(){Q(E),G()},title:"Delete Item?",description:"Are you sure you want to delete this item?"})]})}function E(){return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(i.ql,{children:(0,R.jsx)("title",{children:" Dashboard: Two"})}),(0,R.jsx)(B,{})]})}}}]);
//# sourceMappingURL=662.96762a81.chunk.js.map